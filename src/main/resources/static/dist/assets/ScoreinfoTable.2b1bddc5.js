import{A as e,B as l,p as a,a as o,L as t,z as d,r,o as n,c as i,f as u,w as s,h as m}from"./vendor.a8d67b6f.js";import{s as c}from"./request.7ef930c0.js";const p={name:"ScoreinfoTable",setup(){const a=e({keyword:"",pageIndex:1,pageSize:10}),o=l([]),r=l(0),n=()=>{c({url:"/scoreinfo/apilist",method:"get",params:a}).then((e=>{o.value=e.data.list,r.value=e.data.pageTotal||10}))};n();let i=e({id:"",username:"",result:"",score:"",intro:"",createtime:""});const u=()=>{Object.keys(i).forEach((e=>i[e]="")),console.log("clear")},s=l(!1),m=l(!1);return{query:a,tableData:o,pageTotal:r,editVisible:s,form:i,handleSearch:()=>{a.pageIndex=1,n()},handlePageChange:e=>{a.pageIndex=e,n()},handleDelete:(e,l)=>{t.confirm("确定要删除吗？","提示",{type:"warning"}).then((()=>{c({url:"/scoreinfo/apidelete",method:"get",params:{id:l.id}}).then((e=>{200===e.status?(d.success("删除成功"),n()):d.error(e.msg||"删除失败")}))})).catch((()=>{}))},handleEdit:(e,l)=>{Object.keys(i).forEach((e=>{i[e]=l[e]})),s.value=!0},saveEdit:()=>{s.value=!1,c({url:"/scoreinfo/apiupdate",method:"get",params:i}).then((e=>{200===e.status?(d.success("修改数据成功"),n(),u()):d.error(e.msg||"修改数据失败")}))},addVisible:m,handleAdd:()=>{u(),m.value=!0},saveInsert:()=>{m.value=!1,c({url:"/scoreinfo/apiinsert",method:"get",params:i}).then((e=>{200===e.status?(d.success("添加数据成功"),n()):d.error(e.msg||"添加数据失败")}))}}}},f=s();a("data-v-ff4d2556");const h={class:"container"},V={class:"handle-box"},b=m("搜索"),g=m("添加"),_=m("编辑 "),y=m("删除"),k={class:"pagination"},C={class:"dialog-footer"},v=m("取 消"),z=m("确 定"),w={class:"dialog-footer"},x=m("取 消"),U=m("确 定");o();const I=f(((e,l,a,o,t,d)=>{const s=r("el-input"),m=r("el-button"),c=r("el-table-column"),p=r("el-table"),I=r("el-pagination"),D=r("el-form-item"),q=r("el-form"),E=r("el-dialog");return n(),i("div",null,[u("div",h,[u("div",V,[u(s,{modelValue:o.query.keyword,"onUpdate:modelValue":l[1]||(l[1]=e=>o.query.keyword=e),placeholder:"搜索内容",size:"mini",style:{width:"15%","min-width":"100px"},class:"handle-input mr10"},null,8,["modelValue"]),u(m,{type:"primary",icon:"el-icon-search",size:"mini",onClick:o.handleSearch},{default:f((()=>[b])),_:1},8,["onClick"]),u(m,{type:"primary",icon:"el-icon-plus",size:"mini",onClick:o.handleAdd},{default:f((()=>[g])),_:1},8,["onClick"])]),u(p,{data:o.tableData,size:"mini",border:"",class:"table",ref:"multipleTable","header-cell-class-name":"table-header"},{default:f((()=>[u(c,{prop:"id",label:"ID"}),u(c,{prop:"username",label:"用户名"}),u(c,{prop:"result",label:"结果"}),u(c,{prop:"score",label:"分数"}),u(c,{prop:"intro",label:"备注"}),u(c,{prop:"createtime",label:"时间"}),u(c,{label:"操作",width:"180",align:"center"},{default:f((e=>[u(m,{type:"text",icon:"el-icon-edit",onClick:l=>o.handleEdit(e.$index,e.row)},{default:f((()=>[_])),_:2},1032,["onClick"]),u(m,{type:"text",icon:"el-icon-delete",class:"red",onClick:l=>o.handleDelete(e.$index,e.row)},{default:f((()=>[y])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),u("div",k,[u(I,{background:"",layout:"total, prev, pager, next","current-page":o.query.pageIndex,"page-size":o.query.pageSize,total:o.pageTotal,onCurrentChange:o.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange"])])]),u(E,{title:"添加",modelValue:o.addVisible,"onUpdate:modelValue":l[8]||(l[8]=e=>o.addVisible=e),width:"30%"},{footer:f((()=>[u("span",C,[u(m,{size:"small",onClick:l[7]||(l[7]=e=>o.addVisible=!1)},{default:f((()=>[v])),_:1}),u(m,{size:"small",type:"primary",onClick:o.saveInsert},{default:f((()=>[z])),_:1},8,["onClick"])])])),default:f((()=>[u(q,{size:"small","label-width":"100px"},{default:f((()=>[u(D,{label:"用户名:"},{default:f((()=>[u(s,{placeholder:"请输入用户名",modelValue:o.form.username,"onUpdate:modelValue":l[2]||(l[2]=e=>o.form.username=e)},null,8,["modelValue"])])),_:1}),u(D,{label:"结果:"},{default:f((()=>[u(s,{placeholder:"请输入结果",modelValue:o.form.result,"onUpdate:modelValue":l[3]||(l[3]=e=>o.form.result=e)},null,8,["modelValue"])])),_:1}),u(D,{label:"分数:"},{default:f((()=>[u(s,{placeholder:"请输入分数",modelValue:o.form.score,"onUpdate:modelValue":l[4]||(l[4]=e=>o.form.score=e)},null,8,["modelValue"])])),_:1}),u(D,{label:"备注:"},{default:f((()=>[u(s,{placeholder:"请输入备注",modelValue:o.form.intro,"onUpdate:modelValue":l[5]||(l[5]=e=>o.form.intro=e)},null,8,["modelValue"])])),_:1}),u(D,{label:"时间:"},{default:f((()=>[u(s,{placeholder:"请输入时间",modelValue:o.form.createtime,"onUpdate:modelValue":l[6]||(l[6]=e=>o.form.createtime=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),u(E,{title:"编辑",modelValue:o.editVisible,"onUpdate:modelValue":l[16]||(l[16]=e=>o.editVisible=e),width:"30%"},{footer:f((()=>[u("span",w,[u(m,{size:"small",onClick:l[15]||(l[15]=e=>o.editVisible=!1)},{default:f((()=>[x])),_:1}),u(m,{size:"small",type:"primary",onClick:o.saveEdit},{default:f((()=>[U])),_:1},8,["onClick"])])])),default:f((()=>[u(q,{size:"small","label-width":"100px"},{default:f((()=>[u(D,{label:"ID:"},{default:f((()=>[u(s,{placeholder:"请输入ID",disabled:!0,modelValue:o.form.id,"onUpdate:modelValue":l[9]||(l[9]=e=>o.form.id=e)},null,8,["modelValue"])])),_:1}),u(D,{label:"用户名:"},{default:f((()=>[u(s,{placeholder:"请输入用户名",modelValue:o.form.username,"onUpdate:modelValue":l[10]||(l[10]=e=>o.form.username=e)},null,8,["modelValue"])])),_:1}),u(D,{label:"结果:"},{default:f((()=>[u(s,{placeholder:"请输入结果",modelValue:o.form.result,"onUpdate:modelValue":l[11]||(l[11]=e=>o.form.result=e)},null,8,["modelValue"])])),_:1}),u(D,{label:"分数:"},{default:f((()=>[u(s,{placeholder:"请输入分数",modelValue:o.form.score,"onUpdate:modelValue":l[12]||(l[12]=e=>o.form.score=e)},null,8,["modelValue"])])),_:1}),u(D,{label:"备注:"},{default:f((()=>[u(s,{placeholder:"请输入备注",modelValue:o.form.intro,"onUpdate:modelValue":l[13]||(l[13]=e=>o.form.intro=e)},null,8,["modelValue"])])),_:1}),u(D,{label:"时间:"},{default:f((()=>[u(s,{placeholder:"请输入时间",modelValue:o.form.createtime,"onUpdate:modelValue":l[14]||(l[14]=e=>o.form.createtime=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}));p.render=I,p.__scopeId="data-v-ff4d2556";export default p;
