import{A as e,B as l,p as a,a as o,L as d,z as t,r as s,o as r,c as n,f as u,g as i,w as m,h as p}from"./vendor.a8d67b6f.js";import{s as c}from"./request.7ef930c0.js";const f={name:"homeworktable",setup(){const a=e({keyword:"",pageIndex:1,pageSize:10}),o=l([]),s=l(0),r=()=>{c({url:"/homework/apilist",method:"get",params:a}).then((e=>{o.value=e.data.list,s.value=e.data.pageTotal||10}))};r();let n=e({swid:"",swname:"",swcontent:"",swscore:"",swintro:"",swuser:"",swtime:""});const u=()=>{Object.keys(n).forEach((e=>n[e]="")),console.log("clear")},i=l(!1),m=l(!1);return{query:a,tableData:o,pageTotal:s,editVisible:i,form:n,handleSearch:()=>{a.pageIndex=1,r()},handlePageChange:e=>{a.pageIndex=e,r()},handleDelete:(e,l)=>{d.confirm("确定要删除吗？","提示",{type:"warning"}).then((()=>{c({url:"/homework/apidelete",method:"get",params:{id:l.swid}}).then((e=>{200===e.status?(t.success("删除成功"),r()):t.error(e.msg||"删除失败")}))})).catch((()=>{}))},handleEdit:(e,l)=>{Object.keys(n).forEach((e=>{n[e]=l[e]})),i.value=!0},saveEdit:()=>{i.value=!1,c({url:"/homework/apiupdate",method:"get",params:n}).then((e=>{200===e.status?(t.success("修改数据成功"),r(),u()):t.error(e.msg||"修改数据失败")}))},addVisible:m,handleAdd:()=>{u(),m.value=!0},saveInsert:()=>{m.value=!1,c({url:"/homework/apiinsert",method:"get",params:n}).then((e=>{200===e.status?(t.success("添加数据成功"),r()):t.error(e.msg||"添加数据失败")}))}}}},h=m();a("data-v-3dd922f2");const w={class:"container"},V={class:"handle-box"},b=p("搜索"),g=p("添加"),_=p("编辑 "),k=p("删除"),y={class:"pagination"},C={class:"dialog-footer"},v=p("取 消"),U=p("确 定"),z={class:"dialog-footer"},x=p("取 消"),I=p("确 定");o();const q=h(((e,l,a,o,d,t)=>{const m=s("el-input"),p=s("el-button"),c=s("el-table-column"),f=s("el-table"),q=s("el-pagination"),E=s("el-form-item"),j=s("el-form"),D=s("el-dialog");return r(),n("div",null,[u("div",w,[u("div",V,[u(m,{modelValue:o.query.keyword,"onUpdate:modelValue":l[1]||(l[1]=e=>o.query.keyword=e),placeholder:"搜索内容",size:"mini",style:{width:"15%","min-width":"100px"},class:"handle-input mr10"},null,8,["modelValue"]),u(p,{type:"primary",icon:"el-icon-search",size:"mini",onClick:o.handleSearch},{default:h((()=>[b])),_:1},8,["onClick"]),u(p,{type:"primary",icon:"el-icon-plus",size:"mini",onClick:o.handleAdd},{default:h((()=>[g])),_:1},8,["onClick"])]),u(f,{data:o.tableData,size:"mini",border:"",class:"table",ref:"multipleTable","header-cell-class-name":"table-header"},{default:h((()=>[u(c,{prop:"swid",label:"作业编号"}),u(c,{prop:"swname",label:"作业名称"}),i("",!0),u(c,{prop:"swscore",label:"作业分数"}),u(c,{prop:"swintro",label:"作业备注"}),u(c,{prop:"swuser",label:"提交用户"}),u(c,{prop:"swtime",label:"提交时间"}),u(c,{label:"操作",width:"180",align:"center"},{default:h((e=>[u(p,{type:"text",icon:"el-icon-edit",onClick:l=>o.handleEdit(e.$index,e.row)},{default:h((()=>[_])),_:2},1032,["onClick"]),u(p,{type:"text",icon:"el-icon-delete",class:"red",onClick:l=>o.handleDelete(e.$index,e.row)},{default:h((()=>[k])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),u("div",y,[u(q,{background:"",layout:"total, prev, pager, next","current-page":o.query.pageIndex,"page-size":o.query.pageSize,total:o.pageTotal,onCurrentChange:o.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange"])])]),u(D,{title:"添加",modelValue:o.addVisible,"onUpdate:modelValue":l[9]||(l[9]=e=>o.addVisible=e),width:"30%"},{footer:h((()=>[u("span",C,[u(p,{size:"small",onClick:l[8]||(l[8]=e=>o.addVisible=!1)},{default:h((()=>[v])),_:1}),u(p,{size:"small",type:"primary",onClick:o.saveInsert},{default:h((()=>[U])),_:1},8,["onClick"])])])),default:h((()=>[u(j,{size:"small","label-width":"100px"},{default:h((()=>[u(E,{label:"作业名称:"},{default:h((()=>[u(m,{placeholder:"请输入作业名称",modelValue:o.form.swname,"onUpdate:modelValue":l[2]||(l[2]=e=>o.form.swname=e)},null,8,["modelValue"])])),_:1}),u(E,{label:"作业内容:"},{default:h((()=>[u(m,{placeholder:"请输入作业内容",modelValue:o.form.swcontent,"onUpdate:modelValue":l[3]||(l[3]=e=>o.form.swcontent=e)},null,8,["modelValue"])])),_:1}),u(E,{label:"作业分数:"},{default:h((()=>[u(m,{placeholder:"请输入作业分数",modelValue:o.form.swscore,"onUpdate:modelValue":l[4]||(l[4]=e=>o.form.swscore=e)},null,8,["modelValue"])])),_:1}),u(E,{label:"作业备注:"},{default:h((()=>[u(m,{placeholder:"请输入作业备注",modelValue:o.form.swintro,"onUpdate:modelValue":l[5]||(l[5]=e=>o.form.swintro=e)},null,8,["modelValue"])])),_:1}),u(E,{label:"提交用户:"},{default:h((()=>[u(m,{placeholder:"请输入提交用户",modelValue:o.form.swuser,"onUpdate:modelValue":l[6]||(l[6]=e=>o.form.swuser=e)},null,8,["modelValue"])])),_:1}),u(E,{label:"提交时间:"},{default:h((()=>[u(m,{placeholder:"请输入提交时间",modelValue:o.form.swtime,"onUpdate:modelValue":l[7]||(l[7]=e=>o.form.swtime=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),u(D,{title:"编辑",modelValue:o.editVisible,"onUpdate:modelValue":l[18]||(l[18]=e=>o.editVisible=e),width:"30%"},{footer:h((()=>[u("span",z,[u(p,{size:"small",onClick:l[17]||(l[17]=e=>o.editVisible=!1)},{default:h((()=>[x])),_:1}),u(p,{size:"small",type:"primary",onClick:o.saveEdit},{default:h((()=>[I])),_:1},8,["onClick"])])])),default:h((()=>[u(j,{size:"small","label-width":"100px"},{default:h((()=>[u(E,{label:"作业编号:"},{default:h((()=>[u(m,{placeholder:"请输入作业编号",disabled:!0,modelValue:o.form.swid,"onUpdate:modelValue":l[10]||(l[10]=e=>o.form.swid=e)},null,8,["modelValue"])])),_:1}),u(E,{label:"作业名称:"},{default:h((()=>[u(m,{placeholder:"请输入作业名称",modelValue:o.form.swname,"onUpdate:modelValue":l[11]||(l[11]=e=>o.form.swname=e)},null,8,["modelValue"])])),_:1}),u(E,{label:"作业内容:"},{default:h((()=>[u(m,{placeholder:"请输入作业内容",modelValue:o.form.swcontent,"onUpdate:modelValue":l[12]||(l[12]=e=>o.form.swcontent=e)},null,8,["modelValue"])])),_:1}),u(E,{label:"作业分数:"},{default:h((()=>[u(m,{placeholder:"请输入作业分数",modelValue:o.form.swscore,"onUpdate:modelValue":l[13]||(l[13]=e=>o.form.swscore=e)},null,8,["modelValue"])])),_:1}),u(E,{label:"作业备注:"},{default:h((()=>[u(m,{placeholder:"请输入作业备注",modelValue:o.form.swintro,"onUpdate:modelValue":l[14]||(l[14]=e=>o.form.swintro=e)},null,8,["modelValue"])])),_:1}),u(E,{label:"提交用户:"},{default:h((()=>[u(m,{placeholder:"请输入提交用户",modelValue:o.form.swuser,"onUpdate:modelValue":l[15]||(l[15]=e=>o.form.swuser=e)},null,8,["modelValue"])])),_:1}),u(E,{label:"提交时间:"},{default:h((()=>[u(m,{placeholder:"请输入提交时间",modelValue:o.form.swtime,"onUpdate:modelValue":l[16]||(l[16]=e=>o.form.swtime=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}));f.render=q,f.__scopeId="data-v-3dd922f2";export default f;
