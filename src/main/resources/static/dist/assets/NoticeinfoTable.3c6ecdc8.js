import{A as e,B as l,p as a,a as t,L as o,z as d,r as n,o as i,c as r,f as c,g as s,w as u,h as m}from"./vendor.a8d67b6f.js";import{s as p}from"./request.7ef930c0.js";const f={name:"noticeinfotable",setup(){const a=e({address:"",keyword:"",pageIndex:1,pageSize:10}),t=l([]),n=l(0),i=()=>{p({url:"/noticeinfo/apilist",method:"get",params:a}).then((e=>{t.value=e.data.list,n.value=e.data.pageTotal||10}))};i();let r=e({noticeid:"",noticetitle:"",noticecontent:"",noticeaddtime:"",noticeremarker:""});const c=()=>{Object.keys(r).forEach((e=>r[e]="")),console.log("clear")},s=l(!1),u=l(!1);return{query:a,tableData:t,pageTotal:n,editVisible:s,form:r,handleSearch:()=>{a.pageIndex=1,i()},handlePageChange:e=>{a.pageIndex=e,i()},handleDelete:(e,l)=>{o.confirm("确定要删除吗？","提示",{type:"warning"}).then((()=>{p({url:"/noticeinfo/apidelete",method:"get",params:{id:l.noticeid}}).then((e=>{200===e.status?(d.success("删除成功"),i()):d.error(e.msg||"删除失败")}))})).catch((()=>{}))},handleEdit:(e,l)=>{Object.keys(r).forEach((e=>{r[e]=l[e]})),s.value=!0},saveEdit:()=>{s.value=!1,p({url:"/noticeinfo/apiupdate",method:"get",params:r}).then((e=>{200===e.status?(d.success("修改数据成功"),i(),c()):d.error(e.msg||"修改数据失败")}))},addVisible:u,handleAdd:()=>{c(),u.value=!0},saveInsert:()=>{u.value=!1,p({url:"/noticeinfo/apiinsert",method:"get",params:r}).then((e=>{200===e.status?(d.success("添加数据成功"),i()):d.error(e.msg||"添加数据失败")}))}}}},h=u();a("data-v-42b935ae");const V={class:"container"},b={class:"handle-box"},g=m("搜索"),k=m("添加"),y=m("编辑 "),_=m("删除"),C={class:"pagination"},v={class:"dialog-footer"},w=m("取 消"),x=m("确 定"),z={class:"dialog-footer"},U=m("取 消"),I=m("确 定");t();const q=h(((e,l,a,t,o,d)=>{const u=n("el-input"),m=n("el-button"),p=n("el-table-column"),f=n("el-table"),q=n("el-pagination"),E=n("el-form-item"),j=n("el-form"),D=n("el-dialog");return i(),r("div",null,[c("div",V,[c("div",b,[c(u,{modelValue:t.query.keyword,"onUpdate:modelValue":l[1]||(l[1]=e=>t.query.keyword=e),placeholder:"搜索内容",size:"mini",style:{width:"15%","min-width":"100px"},class:"handle-input mr10"},null,8,["modelValue"]),c(m,{type:"primary",icon:"el-icon-search",size:"mini",onClick:t.handleSearch},{default:h((()=>[g])),_:1},8,["onClick"]),c(m,{type:"primary",icon:"el-icon-plus",size:"mini",onClick:t.handleAdd},{default:h((()=>[k])),_:1},8,["onClick"])]),c(f,{data:t.tableData,size:"mini",border:"",class:"table",ref:"multipleTable","header-cell-class-name":"table-header"},{default:h((()=>[c(p,{width:"50",prop:"noticeid",label:"编号"}),c(p,{prop:"noticetitle",label:"公告标题"}),c(p,{prop:"noticecontent",label:"公告内容"}),s("",!0),s("",!0),c(p,{label:"操作",width:"180",align:"center"},{default:h((e=>[c(m,{type:"text",icon:"el-icon-edit",onClick:l=>t.handleEdit(e.$index,e.row)},{default:h((()=>[y])),_:2},1032,["onClick"]),c(m,{type:"text",icon:"el-icon-delete",class:"red",onClick:l=>t.handleDelete(e.$index,e.row)},{default:h((()=>[_])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),c("div",C,[c(q,{background:"",layout:"total, prev, pager, next","current-page":t.query.pageIndex,"page-size":t.query.pageSize,total:t.pageTotal,onCurrentChange:t.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange"])])]),c(D,{title:"添加",modelValue:t.addVisible,"onUpdate:modelValue":l[7]||(l[7]=e=>t.addVisible=e),width:"30%"},{footer:h((()=>[c("span",v,[c(m,{size:"small",onClick:l[6]||(l[6]=e=>t.addVisible=!1)},{default:h((()=>[w])),_:1}),c(m,{size:"small",type:"primary",onClick:t.saveInsert},{default:h((()=>[x])),_:1},8,["onClick"])])])),default:h((()=>[c(j,{size:"small","label-width":"100px"},{default:h((()=>[c(E,{label:"公告标题:"},{default:h((()=>[c(u,{placeholder:"请输入公告标题",modelValue:t.form.noticetitle,"onUpdate:modelValue":l[2]||(l[2]=e=>t.form.noticetitle=e)},null,8,["modelValue"])])),_:1}),c(E,{label:"公告内容:",prop:"noticecontent"},{default:h((()=>[c(u,{type:"textarea",placeholder:"请输入公告内容",rows:"5",modelValue:t.form.noticecontent,"onUpdate:modelValue":l[3]||(l[3]=e=>t.form.noticecontent=e)},null,8,["modelValue"])])),_:1}),c(E,{label:"发布时间:"},{default:h((()=>[c(u,{placeholder:"请输入发布时间",modelValue:t.form.noticeaddtime,"onUpdate:modelValue":l[4]||(l[4]=e=>t.form.noticeaddtime=e)},null,8,["modelValue"])])),_:1}),c(E,{label:"公告备注:"},{default:h((()=>[c(u,{placeholder:"请输入公告备注",modelValue:t.form.noticeremarker,"onUpdate:modelValue":l[5]||(l[5]=e=>t.form.noticeremarker=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),c(D,{title:"编辑",modelValue:t.editVisible,"onUpdate:modelValue":l[14]||(l[14]=e=>t.editVisible=e),width:"30%"},{footer:h((()=>[c("span",z,[c(m,{size:"small",onClick:l[13]||(l[13]=e=>t.editVisible=!1)},{default:h((()=>[U])),_:1}),c(m,{size:"small",type:"primary",onClick:t.saveEdit},{default:h((()=>[I])),_:1},8,["onClick"])])])),default:h((()=>[c(j,{size:"small","label-width":"100px"},{default:h((()=>[c(E,{label:"公告编号:"},{default:h((()=>[c(u,{disabled:!0,placeholder:"请输入公告编号",modelValue:t.form.noticeid,"onUpdate:modelValue":l[8]||(l[8]=e=>t.form.noticeid=e)},null,8,["modelValue"])])),_:1}),c(E,{label:"公告标题:"},{default:h((()=>[c(u,{placeholder:"请输入公告标题",modelValue:t.form.noticetitle,"onUpdate:modelValue":l[9]||(l[9]=e=>t.form.noticetitle=e)},null,8,["modelValue"])])),_:1}),c(E,{label:"公告内容:",prop:"noticecontent"},{default:h((()=>[c(u,{type:"textarea",placeholder:"请输入公告内容",rows:"5",modelValue:t.form.noticecontent,"onUpdate:modelValue":l[10]||(l[10]=e=>t.form.noticecontent=e)},null,8,["modelValue"])])),_:1}),c(E,{label:"发布时间:"},{default:h((()=>[c(u,{placeholder:"请输入发布时间",modelValue:t.form.noticeaddtime,"onUpdate:modelValue":l[11]||(l[11]=e=>t.form.noticeaddtime=e)},null,8,["modelValue"])])),_:1}),c(E,{label:"公告备注:"},{default:h((()=>[c(u,{placeholder:"请输入公告备注",modelValue:t.form.noticeremarker,"onUpdate:modelValue":l[12]||(l[12]=e=>t.form.noticeremarker=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}));f.render=q,f.__scopeId="data-v-42b935ae";export default f;
